let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function n(){return e}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.weight=t.weight,e.abilities=t.abilities,e.types=t.types}).catch(function(e){console.error(e)})}function o(e){let t=$(".modal-body"),n=$(".modal-title");n.empty(),t.empty();let i=$("<h1>"+e.name.charAt(0).toUpperCase()+e.name.slice(1)+"</h1>"),o=$('<img class="modal-img" style="width:50%">').attr("src",e.imageUrlFront),a=$('<img class="modal-img" style="width:50%">').attr("src",e.imageUrlBack),r=$("<p><b>Height: </b>"+e.height+"m</p>"),l=$("<p><b>Weight: </b>"+e.weight+"kg</p>"),s=$("<p><b>Types: </b>"+e.types.map(e=>e.type.name).join(", ")+"</p>"),p=$("<p><b>Abilities: </b>"+e.abilities.map(e=>e.ability.name).join(", ")+"</p>");n.append(i),t.append(o),t.append(a),t.append(r),t.append(l),t.append(s),t.append(p)}return{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector(".list-group"),a=document.createElement("li");a.classList.add("list-group-item","row"),n.appendChild(a);let r=document.createElement("button");r.innerText=t.name,r.classList.add("btn","btn-success"),a.appendChild(r),r.setAttribute("data-target","#exampleModal"),r.setAttribute("data-toggle","modal"),r.addEventListener("click",function(){(function e(t){i(t).then(function(){o(t)})})(t)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i,showModal:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});let inputField=document.querySelector("input");function searchPage(){let e=inputField.value.trim().toLowerCase();""!==e?(document.querySelector(".list-group").innerHTML="",pokemonRepository.getAll().forEach(function(t){t.name.toLowerCase().includes(e)&&pokemonRepository.addListItem(t)})):showAllPokemon()}function showAllPokemon(){document.querySelector(".list-group").innerHTML="",pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}document.querySelector("#searchButton").addEventListener("click",function(e){e.preventDefault(),searchPage()}),inputField.addEventListener("keydown",function(e){"Enter"===e.key&&(e.preventDefault(),searchPage())});